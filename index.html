<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <title>Amputee Generator</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  </head>
  <body>
    <h1 id="amputee"><noscript>This page needs JavaScript.</noscript></h1>
    <button id="refresh">Refresh</button>
  </body>
  <script>
    (function global() {
      function choice(items) {
        return items[Math.floor(Math.random() * items.length)];
      }
      function capitalize(str) {
        return str.charAt(0).toUpperCase() + str.slice(1);
      }
      function adverbify(verb) {
        var adverb = choice([null, 'deliberately', 'intentionally', 'voluntarily']);
        if (adverb) {
          return adverb + ' ' + verb;
        } else {
          return verb;
        }
      }
      function refresh() {
        var gender = choice([{subj: 'he', obj: 'him', poss: 'his'}, {subj: 'she', obj: 'her', poss: 'her'}]);
        var method = choice([
            'lost', 'is missing', 'no longer has', adverbify('cut off'), adverbify('chopped off'), adverbify('sliced off'),
            adverbify('lopped off'), adverbify('severed'), adverbify('amputated'), adverbify('removed')]);
        var side = choice(['left', 'right']);
        var limb = choice(['hand', 'arm', 'foot', 'leg']);
        document.getElementById('amputee').innerText =
            capitalize(gender.subj) + ' ' + method + ' ' + gender.poss + ' ' + side + ' ' + limb + '.';
      }
      document.getElementById('refresh').onclick = refresh;
      refresh();
    })();
  </script>
</html>
